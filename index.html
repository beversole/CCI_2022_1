<!-- /exercises/06-js-array-functions.html -->
<!DOCTYPE html>
<html>
  <head>
    <title>Artists, Tour Guides and Tag Alongs</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500&family=Roboto&display=swap" rel="stylesheet">
    <style>
        .panel{ float:left; border-radius: 1.5em; padding:1.5em; margin:1.5em; font-size:1.5em; width:em; background-color:#ffffff;  border:solid 1px #eeeeee; font-family: 'Roboto', sans-serif;}
        .lbl{ font-size:2em; display: block; margin-bottom: .25em; font-family: 'Playfair Display', serif; }
        #canvas { position:fixed; left:0; top:0; }
    </style>


    <script src="GACC.js"></script>
  </head>
  <body>

  <canvas id="canvas" width="1740" height="2175" style="display:block;z-index:100"></canvas>
  <div style="z-index:200;position: relative" id="artist-list"></div>
<script>

let canvas, ctx;

(function() {
  canvas = document.getElementById('canvas');
  ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  GACC.loadImages(imagesReady);
})();




function imagesReady(){
  renderHtm();
  drawCanvas();
    window.addEventListener('resize', function(event) {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      drawCanvas();
  }, true);
}



function drawCanvas(){
  let cw = canvas.width;
  let ch = canvas.height;
  if(cw>ch){ cw *= ch/cw; }else{ ch *= cw/ch; }

  let rowCnt = Math.ceil(canvas.width/cw);
  let colCnt = Math.ceil(canvas.height/ch);

  for (let i = 0; i < rowCnt; i++) {
    for (let j = 0; j < colCnt; j++) {
      ctx.drawImage(GACC.imageFullCohort, i*cw, j*ch, cw, ch);
    }
  }

  
}

function renderHtm(){
  let elem = document.getElementById("artist-list");
  let markup = ``;

  markup += '<div class="panel">'
  markup += '<span class="lbl">Artists</span>'
  markup += GACC.Artists.map(function(artist) {
  let htm = '';
  if(artist.site != null){
    htm = `<li><a target="_blank" href="${ artist.site }" >${ artist.name }</a></li>`;
  }else{
    htm =  `<li>${ artist.name }</li>`;
  }
  return htm
  }).join('');
  markup += '</div>'


  markup += '<div class="panel">'
  markup += '<span class="lbl">Tour Guides</span>'
  markup += GACC.TourGuides.map(function(artist) {
  let htm = '';
  if(artist.site != null){
    htm = `<li><a target="_blank" href="${ artist.site }" >${ artist.name }</a></li>`;
  }else{
    htm =  `<li>${ artist.name }</li>`;
  }
  return htm
  }).join('');
  markup += '</div>'

  markup += '<div class="panel">'
  markup += '<span class="lbl">Tag Alongs</span>'
  markup += GACC.TagAlongs.map(function(artist) {
  let htm = '';
  if(artist.site != null){
    htm = `<li><a target="_blank" href="${ artist.site }" >${ artist.name }</a></li>`;
  }else{
    htm =  `<li>${ artist.name }</li>`;
  }
  return htm
  }).join('');
  markup += '</div>'


  elem.innerHTML = markup;
}
  

  
  //const image = document.getElementById('source');
  //image.addEventListener('load', e => {
  //  ctx.drawImage(image, 0, 0);
  //});
  // console.log(editedFruits);
</script>

  </body>
</html>